/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
'use strict';angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(q,p){var d={},m=d.nodeName=function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()};d.css=function(a,c,f){a=a.currentStyle?a.currentStyle[c]:window.getComputedStyle?window.getComputedStyle(a)[c]:a.style[c];return!0===f?parseFloat(a)||0:a};d.offset=function(a){var c=a.getBoundingClientRect(),f=a.ownerDocument;return{width:c.width||a.offsetWidth,height:c.height||
a.offsetHeight,top:c.top+(window.pageYOffset||f.documentElement.scrollTop)-(f.documentElement.clientTop||0),left:c.left+(window.pageXOffset||f.documentElement.scrollLeft)-(f.documentElement.clientLeft||0)}};d.position=function(a){var c={top:0,left:0},f,g;if("fixed"===d.css(a,"position"))g=a.getBoundingClientRect();else{f=a.ownerDocument;g=a.offsetParent||f;if(m(g,"#document"))f=f.documentElement;else{for(;g&&!m(g,"html")&&"static"===d.css(g,"position");)g=g.offsetParent;f=g||f.documentElement}g=d.offset(a);
m(f,"html")||(c=d.offset(f));c.top+=d.css(f,"borderTopWidth",!0);c.left+=d.css(f,"borderLeftWidth",!0)}return{width:a.offsetWidth,height:a.offsetHeight,top:g.top-c.top-d.css(a,"marginTop",!0),left:g.left-c.left-d.css(a,"marginLeft",!0)}};d.height=function(a,c){var f=a.offsetHeight;return f=c?f+(d.css(a,"marginTop",!0)+d.css(a,"marginBottom",!0)):f-(d.css(a,"paddingTop",!0)+d.css(a,"paddingBottom",!0)+d.css(a,"borderTopWidth",!0)+d.css(a,"borderBottomWidth",!0))};d.width=function(a,c){var f=a.offsetWidth;
return f=c?f+(d.css(a,"marginLeft",!0)+d.css(a,"marginRight",!0)):f-(d.css(a,"paddingLeft",!0)+d.css(a,"paddingRight",!0)+d.css(a,"borderLeftWidth",!0)+d.css(a,"borderRightWidth",!0))};return d}]);/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var q=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions",
"$$rAF","$timeout",function(p,d,m,a,c,f,g,O,t,n,r){function D(a){a.$$phase||a.$root&&a.$root.$$phase||a.$digest()}function y(a,c){return angular.element((c||document).querySelectorAll(a))}function E(d){return v[d]?v[d]:v[d]=a.when(c.get(d)||f.get(d)).then(function(a){return angular.isObject(a)?(c.put(d,a.data),a.data):a})}var P=String.prototype.trim,F="createTouch"in p.document,Q=/ng-bind="/ig,G=angular.element(p.document),v={};return function(a,c){function f(){l.$emit(e.prefixEvent+".show",b)}function p(){l.$emit(e.prefixEvent+
".hide",b);if(H&&"focus"===e.trigger)return a[0].blur();B()}function v(){var h=e.trigger.split(" ");angular.forEach(h,function(h){if("click"===h)a.on("click",b.toggle);else"manual"!==h&&(a.on("hover"===h?"mouseenter":"focus",b.enter),a.on("hover"===h?"mouseleave":"blur",b.leave),"button"===I&&"hover"!==h&&a.on(F?"touchstart":"mousedown",b.$onFocusElementMouseDown))})}function J(){"focus"!==e.trigger?k.off("keyup",b.$onKeyUp):a.off("keyup",b.$onFocusKeyUp)}function R(){r(function(){k.on("click",K);
G.on("click",b.hide);C=!0},0,!1)}function L(){C&&(k.off("click",K),G.off("click",b.hide),C=!1)}function K(a){a.stopPropagation()}function M(h){h=h||e.target||a;var b=h[0];h=b.getBoundingClientRect();null===h.width&&(h=angular.extend({},h,{width:h.right-h.left,height:h.bottom-h.top}));b="body"===e.container?t.offset(b):t.position(b);return angular.extend({},h,b)}function B(){clearTimeout(w);b.$isShown&&null!==k&&(e.autoClose&&L(),e.keyboard&&J());x&&(x.$destroy(),x=null);k&&(k.remove(),k=b.$element=
null)}var b={},I=a[0].nodeName.toLowerCase(),e=b.$options=angular.extend({},q,c);b.$promise=E(e.template);var l=b.$scope=e.scope&&e.scope.$new()||d.$new();if(e.delay&&angular.isString(e.delay)){var z=e.delay.split(",").map(parseFloat);e.delay=1<z.length?{show:z[0],hide:z[1]}:z[0]}e.title&&(l.title=O.trustAsHtml(e.title));l.$setEnabled=function(a){l.$$postDigest(function(){b.setEnabled(a)})};l.$hide=function(){l.$$postDigest(function(){b.hide()})};l.$show=function(){l.$$postDigest(function(){b.show()})};
l.$toggle=function(){l.$$postDigest(function(){b.toggle()})};b.$isShown=l.$isShown=!1;var w,A;e.contentTemplate&&(b.$promise=b.$promise.then(function(a){var b=angular.element(a);return E(e.contentTemplate).then(function(a){var h=y('[ng-bind="content"]',b[0]);h.length||(h=y('[ng-bind="title"]',b[0]));h.removeAttr("ng-bind").html(a);return b[0].outerHTML})}));var N,k,u,x;b.$promise.then(function(a){angular.isObject(a)&&(a=a.data);e.html&&(a=a.replace(Q,'ng-bind-html="'));a=P.apply(a);N=m(a);b.init()});
b.init=function(){e.delay&&angular.isNumber(e.delay)&&(e.delay={show:e.delay,hide:e.delay});"self"===e.container?u=a:angular.isElement(e.container)?u=e.container:e.container&&(u=y(e.container));v();e.target&&(e.target=angular.isElement(e.target)?e.target:y(e.target));e.show&&l.$$postDigest(function(){"focus"===e.trigger?a[0].focus():b.show()})};b.destroy=function(){for(var h=e.trigger.split(" "),c=h.length;c--;){var d=h[c];"click"===d?a.off("click",b.toggle):"manual"!==d&&(a.off("hover"===d?"mouseenter":
"focus",b.enter),a.off("hover"===d?"mouseleave":"blur",b.leave),"button"===I&&"hover"!==d&&a.off(F?"touchstart":"mousedown",b.$onFocusElementMouseDown))}B();l.$destroy()};b.enter=function(){clearTimeout(w);A="in";if(!e.delay||!e.delay.show)return b.show();w=setTimeout(function(){"in"===A&&b.show()},e.delay.show)};b.show=function(){if(e.bsEnabled&&!b.$isShown){l.$emit(e.prefixEvent+".show.before",b);var h,c;e.container?(h=u,c=u[0].lastChild?angular.element(u[0].lastChild):null):(h=null,c=a);k&&B();
x=b.$scope.$new();k=b.$element=N(x,function(a,b){});k.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"});e.animation&&k.addClass(e.animation);e.type&&k.addClass(e.prefixClass+"-"+e.type);e.customClass&&k.addClass(e.customClass);(h=g.enter(k,h,c,f))&&h.then&&h.then(f);b.$isShown=l.$isShown=!0;D(l);n(function(){b.$applyPlacement();k&&k.css({visibility:"visible"})});if(e.keyboard)if("focus"!==e.trigger&&b.focus(),"focus"!==e.trigger)k.on("keyup",b.$onKeyUp);else a.on("keyup",b.$onFocusKeyUp);
e.autoClose&&R()}};b.leave=function(){clearTimeout(w);A="out";if(!e.delay||!e.delay.hide)return b.hide();w=setTimeout(function(){"out"===A&&b.hide()},e.delay.hide)};var H;b.hide=function(a){b.$isShown&&(l.$emit(e.prefixEvent+".hide.before",b),H=a,(a=g.leave(k,p))&&a.then&&a.then(p),b.$isShown=l.$isShown=!1,D(l),e.keyboard&&null!==k&&J(),e.autoClose&&null!==k&&L())};b.toggle=function(){b.$isShown?b.leave():b.enter()};b.focus=function(){k[0].focus()};b.setEnabled=function(a){e.bsEnabled=a};b.$applyPlacement=
function(){if(k){var b=e.placement,c=/\s?auto?\s?/i,d=c.test(b);d&&(b=b.replace(c,"")||q.placement);k.addClass(e.placement);var c=M(),f=k.prop("offsetWidth"),g=k.prop("offsetHeight");if(d){var d=b,r=e.container?angular.element(document.querySelector(e.container)):a.parent(),r=M(r);0<=d.indexOf("bottom")&&c.bottom+g>r.bottom?b=d.replace("bottom","top"):0<=d.indexOf("top")&&c.top-g<r.top&&(b=d.replace("top","bottom"));("right"===d||"bottom-left"===d||"top-left"===d)&&c.right+f>r.width?b="right"===d?
"left":b.replace("left","right"):("left"===d||"bottom-right"===d||"top-right"===d)&&c.left-f<r.left&&(b="left"===d?"right":b.replace("right","left"));k.removeClass(d).addClass(b)}d=b.split("-");switch(d[0]){case "right":b={top:c.top+c.height/2-g/2,left:c.left+c.width};break;case "bottom":b={top:c.top+c.height,left:c.left+c.width/2-f/2};break;case "left":b={top:c.top+c.height/2-g/2,left:c.left-f};break;default:b={top:c.top-g,left:c.left+c.width/2-f/2}}if(d[1])if("top"===d[0]||"bottom"===d[0])switch(d[1]){case "left":b.left=
c.left;break;case "right":b.left=c.left+c.width-f}else if("left"===d[0]||"right"===d[0])switch(d[1]){case "top":b.top=c.top-g;break;case "bottom":b.top=c.top+c.height}c=b;k.css({top:c.top+"px",left:c.left+"px"})}};b.$onKeyUp=function(a){27===a.which&&b.$isShown&&(b.hide(),a.stopPropagation())};b.$onFocusKeyUp=function(b){27===b.which&&(a[0].blur(),b.stopPropagation())};b.$onFocusElementMouseDown=function(c){c.preventDefault();c.stopPropagation();b.$isShown?a[0].blur():a[0].focus()};var C=!1;return b}}]}).directive("bsTooltip",
["$window","$location","$sce","$tooltip","$$rAF",function(q,p,d,m,a){return{restrict:"EAC",scope:!0,link:function(c,f,g,p){var t={scope:c};angular.forEach("template contentTemplate placement container target delay trigger keyboard html animation backdropAnimation type customClass".split(" "),function(a){angular.isDefined(g[a])&&(t[a]=g[a])});c.hasOwnProperty("title")||(c.title="");g.$observe("title",function(f){if(angular.isDefined(f)||!c.hasOwnProperty("title")){var g=c.title;c.title=d.trustAsHtml(f);
angular.isDefined(g)&&a(function(){n&&n.$applyPlacement()})}});c.$watch(function(){return g.title},function(f){if(angular.isDefined(f)||!c.hasOwnProperty("title")){var g=c.title;c.title=d.trustAsHtml(f);angular.isDefined(g)&&a(function(){n&&n.$applyPlacement()})}});g.bsTooltip&&c.$watch(g.bsTooltip,function(d,f){angular.isObject(d)?angular.extend(c,d):c.title=d;angular.isDefined(f)&&a(function(){n&&n.$applyPlacement()})},!0);g.bsShow&&c.$watch(g.bsShow,function(a,c){n&&angular.isDefined(a)&&(angular.isString(a)&&
(a=!!a.match(/true|,?(tooltip),?/i)),!0===a?n.show():n.hide())});g.bsEnabled&&c.$watch(g.bsEnabled,function(a,c){n&&angular.isDefined(a)&&(angular.isString(a)&&(a=!!a.match(/true|1|,?(tooltip),?/i)),!1===a?n.setEnabled(!1):n.setEnabled(!0))});var n=m(f,t);c.$on("$destroy",function(){n&&n.destroy();n=t=null})}}}]).run(["$templateCache",function(q){q.put("tooltip/tooltip.tpl.html",'<div class="tooltip-c"><div class="tooltip-content" ng-bind="title"></div></div>')}]);(function(q){q.directive("nxEqual",function(){return{require:"ngModel",link:function(p,d,m,a){m.nxEqual&&(p.$watch(m.nxEqual,function(c){a.$setValidity("nxEqual",c===a.$viewValue)}),a.$parsers.push(function(c){var d=c===p.$eval(m.nxEqual);a.$setValidity("nxEqual",d);return d?c:void 0}))}}}).directive("noSpace",function(){return{require:"ngModel",link:function(p,d,m,a){d.bind("blur",function(){var c=p.$eval(m.ngModel),d=/\s/;p.$apply(function(){a.$setValidity("noSpace",!(c&&d.test(c)))})})}}}).directive("ensureUnique",
["$http",function(p){return{require:"ngModel",link:function(d,m,a,c){m.bind("blur",function(){var f={};f[a.name]=d.$eval(a.ngModel);var g=a.minlength?parseInt(a.minlength):3,m=/\s/;a.params&&_.extend(f,d.$eval(a.params));f[a.name]&&f[a.name].length>=g&&!m.test(f[a.name])&&p.get(a.ensureUnique,{params:f}).success(function(a){c.$setValidity("ensureUnique",a.success)}).error(function(a){c.$setValidity("ensureUnique",!0)})})}}}])})(angular.module(APP_MODULE_NAME)); //# sourceMappingURL=directives.min.js.map
